<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>{% if page and page.title and page.title != 'Home' %}{{ page.title }} | {% endif %}{{ SITENAME }}</title>
  
  <!-- Bootstrap & MDB -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
  
  <!-- Fonts & Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.4/css/academicons.min.css" integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <!-- Theme CSS -->
  <link rel="stylesheet" href="{{ SITEURL }}/assets/css/styles.css?v=20241229">
  
  <!-- Dark Mode Script (in head to prevent flash) -->
  <script>
    (function() {
      function getStoredTheme() {
        try { return localStorage.getItem('theme'); }
        catch(e) { return null; }
      }
      function getSystemTheme() {
        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      }
      function getInitialTheme() {
        var stored = getStoredTheme();
        if (stored === 'light' || stored === 'dark') {
          return stored;
        }
        return getSystemTheme();
      }
      document.documentElement.setAttribute('data-theme', getInitialTheme());
    })();
  </script>
  
  {% block extra_head %}{% endblock %}
</head>
<body class="fixed-top-nav">
  <!-- Header / Navbar -->
  <header>
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
      <div class="container">
        {% set current_url = '/' + (page.url if page else (article.url if article else '')) | default('') | trim('/') %}
        {% if current_url != '' and current_url != 'index.html' and current_url != 'home.html' %}
        <a class="navbar-brand title font-weight-lighter" href="{{ SITEURL }}/">
          <span class="font-weight-bold">{{ AUTHOR.split()[0] }}</span> {{ AUTHOR.split()[1] if AUTHOR.split()|length > 1 else '' }}
        </a>
        {% else %}
        <div class="navbar-brand social">
          <a href="mailto:akalekar@purdue.edu" title="email"><i class="fa-solid fa-envelope"></i></a>
          <a href="https://github.com/arnav-42" title="GitHub"><i class="fa-brands fa-github"></i></a>
          <a href="https://www.linkedin.com/in/arnavkalekar" title="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
        </div>
        {% endif %}
        
        <!-- Navbar Toggle -->
        <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar top-bar"></span>
          <span class="icon-bar middle-bar"></span>
          <span class="icon-bar bottom-bar"></span>
        </button>
        
        <div class="collapse navbar-collapse text-right" id="navbarNav">
          <ul class="navbar-nav ml-auto flex-nowrap">
            <!-- About -->
            <li class="nav-item {% if current_url == '' or current_url == 'index.html' or current_url == 'home.html' %}active{% endif %}">
              <a class="nav-link" href="{{ SITEURL }}/">about</a>
            </li>
            
            <!-- Projects -->
            <li class="nav-item {% if 'projects' in current_url %}active{% endif %}">
              <a class="nav-link" href="{{ SITEURL }}/projects.html">projects</a>
            </li>

            <!-- Demos -->
            <li class="nav-item {% if 'demos' in current_url %}active{% endif %}">
              <a class="nav-link" href="{{ SITEURL }}/demos.html">demos</a>
            </li>
            
            <!-- Contact -->
            <li class="nav-item {% if 'contact' in current_url %}active{% endif %}">
              <a class="nav-link" href="{{ SITEURL }}/contact.html">contact</a>
            </li>
            
            <!-- Theme Toggle -->
            <li class="toggle-container">
              <button id="light-toggle" title="Change theme">
                <i class="fa-solid fa-moon" id="light-toggle-dark"></i>
                <i class="fa-solid fa-sun" id="light-toggle-light"></i>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>
  
  <!-- Content -->
  <div class="container mt-5" role="main">
    {% block content %}{% endblock %}
  </div>
  
  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
  <script src="{{ SITEURL }}/assets/js/theme.js?v=20241229"></script>
  {% block extra_js %}{% endblock %}
</body>
</html>
